package com.playata.application.ui.elements.movie
{
   import com.playata.application.data.movie.ColorMatrix;
   import com.playata.application.data.movie.MovieCoverSettings;
   import com.playata.application.ui.elements.avatar.PreviewAvatar;
   import com.playata.framework.core.Runtime;
   import com.playata.framework.core.TypedObject;
   import com.playata.framework.core.logging.Logger;
   import flash.display.Bitmap;
   import flash.display.BitmapData;
   import flash.display.DisplayObject;
   import flash.display.MovieClip;
   import flash.filters.BitmapFilter;
   import flash.filters.BlurFilter;
   import flash.filters.ColorMatrixFilter;
   import flash.filters.DropShadowFilter;
   import flash.filters.GlowFilter;
   import flash.geom.Matrix;
   import flash.geom.Point;
   import flash.geom.Rectangle;
   import flash.text.TextField;
   import flash.text.TextFormat;
   
   public class MovieCover
   {
      
      private static var COVER_RECT:TypedObject = new TypedObject({
         "m":{
            1:{
               "x":54,
               "y":46,
               "scale":0.6
            },
            2:{
               "x":-5,
               "y":67,
               "scale":1
            },
            3:{
               "x":43,
               "y":45,
               "scale":0.462
            },
            4:{
               "x":-90,
               "y":-67,
               "scale":1
            },
            5:{
               "x":-39,
               "y":-277,
               "scale":1
            }
         },
         "f":{
            1:{
               "x":53,
               "y":46,
               "scale":0.6
            },
            2:{
               "x":-8,
               "y":67,
               "scale":1
            },
            3:{
               "x":42,
               "y":45,
               "scale":0.462
            },
            4:{
               "x":-93,
               "y":-67,
               "scale":1
            },
            5:{
               "x":-117,
               "y":-228,
               "scale":1
            }
         }
      });
      
      private static var ACTOR_RECT:TypedObject = new TypedObject({
         "m":{
            2:{
               "f":true,
               "w":333,
               "h":777,
               "b":false,
               1:{
                  "x":13,
                  "y":108,
                  "scale":0.6
               },
               2:{
                  "x":-85,
                  "y":138,
                  "scale":1
               },
               3:{
                  "x":6,
                  "y":92,
                  "scale":0.46
               },
               4:{
                  "x":-140,
                  "y":36,
                  "scale":1
               },
               5:{
                  "x":-132,
                  "y":94,
                  "scale":1
               }
            },
            3:{
               "f":true,
               "w":337,
               "h":783,
               "b":false,
               1:{
                  "x":12,
                  "y":104,
                  "scale":0.6
               },
               2:{
                  "x":-87,
                  "y":130,
                  "scale":1
               },
               3:{
                  "x":5,
                  "y":88,
                  "scale":0.46
               },
               4:{
                  "x":-142,
                  "y":28,
                  "scale":1
               },
               5:{
                  "x":-134,
                  "y":86,
                  "scale":1
               }
            },
            4:{
               "f":true,
               "w":381,
               "h":809,
               "b":false,
               1:{
                  "x":-33,
                  "y":96,
                  "scale":0.6
               },
               2:{
                  "x":-141,
                  "y":117,
                  "scale":1
               },
               3:{
                  "x":-17,
                  "y":83,
                  "scale":0.46
               },
               4:{
                  "x":-200,
                  "y":16,
                  "scale":1
               },
               5:{
                  "x":-192,
                  "y":68,
                  "scale":1
               }
            },
            5:{
               "f":true,
               "w":381,
               "h":809,
               "b":false,
               1:{
                  "x":-33,
                  "y":96,
                  "scale":0.6
               },
               2:{
                  "x":-141,
                  "y":117,
                  "scale":1
               },
               3:{
                  "x":-17,
                  "y":83,
                  "scale":0.46
               },
               4:{
                  "x":-200,
                  "y":16,
                  "scale":1
               },
               5:{
                  "x":-192,
                  "y":68,
                  "scale":1
               }
            },
            6:{
               "f":true,
               "w":288,
               "h":787,
               "b":false,
               1:{
                  "x":179,
                  "y":93,
                  "scale":0.6
               },
               2:{
                  "x":-20,
                  "y":103,
                  "scale":1
               },
               3:{
                  "x":139,
                  "y":81,
                  "scale":0.46
               },
               4:{
                  "x":117,
                  "y":11,
                  "scale":1
               },
               5:{
                  "x":113,
                  "y":-199,
                  "scale":1
               }
            },
            7:{
               "f":true,
               "w":244,
               "h":805,
               "b":false,
               1:{
                  "x":65,
                  "y":83,
                  "scale":0.6
               },
               2:{
                  "x":-10,
                  "y":-87,
                  "scale":1
               },
               3:{
                  "x":51,
                  "y":73,
                  "scale":0.46
               },
               4:{
                  "x":-73,
                  "y":-6,
                  "scale":1
               },
               5:{
                  "x":0,
                  "y":102,
                  "scale":1
               }
            },
            8:{
               "f":true,
               "w":237,
               "h":801,
               "b":false,
               1:{
                  "x":70,
                  "y":83,
                  "scale":0.6
               },
               2:{
                  "x":-5,
                  "y":-143,
                  "scale":1
               },
               3:{
                  "x":55,
                  "y":73,
                  "scale":0.46
               },
               4:{
                  "x":-64,
                  "y":-6,
                  "scale":1
               },
               5:{
                  "x":-13,
                  "y":-192,
                  "scale":1
               }
            },
            9:{
               "f":true,
               "w":51,
               "h":35,
               "b":true,
               "w_b":352,
               "h_b":781,
               1:{
                  "x":223,
                  "y":158,
                  "scale":0.6
               },
               "1_b":{
                  "x":18,
                  "y":78,
                  "scale":0.6
               },
               2:{
                  "x":275,
                  "y":252,
                  "scale":1
               },
               "2_b":{
                  "x":-105,
                  "y":-145,
                  "scale":1
               },
               3:{
                  "x":172,
                  "y":130,
                  "scale":0.46
               },
               "3_b":{
                  "x":-4,
                  "y":69,
                  "scale":0.46
               },
               4:{
                  "x":190,
                  "y":118,
                  "scale":1
               },
               "4_b":{
                  "x":-151,
                  "y":-14,
                  "scale":1
               },
               5:{
                  "x":241,
                  "y":-92,
                  "scale":1
               },
               "5_b":{
                  "x":-138,
                  "y":-224,
                  "scale":1
               }
            },
            10:{
               "f":true,
               "w":52,
               "h":35,
               "b":true,
               "w_b":352,
               "h_b":781,
               1:{
                  "x":224,
                  "y":158,
                  "scale":0.6
               },
               "1_b":{
                  "x":18,
                  "y":78,
                  "scale":0.6
               },
               2:{
                  "x":276,
                  "y":252,
                  "scale":1
               },
               "2_b":{
                  "x":-105,
                  "y":-145,
                  "scale":1
               },
               3:{
                  "x":173,
                  "y":130,
                  "scale":0.46
               },
               "3_b":{
                  "x":-4,
                  "y":69,
                  "scale":0.46
               },
               4:{
                  "x":191,
                  "y":118,
                  "scale":1
               },
               "4_b":{
                  "x":-151,
                  "y":-14,
                  "scale":1
               },
               5:{
                  "x":242,
                  "y":-92,
                  "scale":1
               },
               "5_b":{
                  "x":-138,
                  "y":-224,
                  "scale":1
               }
            },
            11:{
               "f":true,
               "w":404,
               "h":816,
               "b":false,
               1:{
                  "x":5,
                  "y":82,
                  "scale":0.6
               },
               2:{
                  "x":-121,
                  "y":-213,
                  "scale":1
               },
               3:{
                  "x":5,
                  "y":72,
                  "scale":0.46
               },
               4:{
                  "x":-172,
                  "y":-7,
                  "scale":1
               },
               5:{
                  "x":-117,
                  "y":42,
                  "scale":1
               }
            },
            12:{
               "f":false,
               "b":true,
               "w_b":747,
               "h_b":972,
               "1_b":{
                  "x":-47,
                  "y":45,
                  "scale":0.6
               },
               "2_b":{
                  "x":-104,
                  "y":-20,
                  "scale":1
               },
               "3_b":{
                  "x":-55,
                  "y":52,
                  "scale":0.46
               },
               "4_b":{
                  "x":-183,
                  "y":-51,
                  "scale":1
               },
               "5_b":{
                  "x":-12,
                  "y":-13,
                  "scale":0.43
               }
            },
            13:{
               "f":false,
               "b":true,
               "w_b":341,
               "h_b":1054,
               "1_b":{
                  "x":-4,
                  "y":76,
                  "scale":0.6
               },
               "2_b":{
                  "x":-91,
                  "y":-17,
                  "scale":1
               },
               "3_b":{
                  "x":-23,
                  "y":74,
                  "scale":0.46
               },
               "4_b":{
                  "x":-115,
                  "y":-4,
                  "scale":1
               },
               "5_b":{
                  "x":-4,
                  "y":46,
                  "scale":0.35
               }
            },
            14:{
               "f":false,
               "b":true,
               "w_b":399,
               "h_b":1072,
               "1_b":{
                  "x":-26,
                  "y":63,
                  "scale":0.6
               },
               "2_b":{
                  "x":-131,
                  "y":-11,
                  "scale":1
               },
               "3_b":{
                  "x":-34,
                  "y":57,
                  "scale":0.46
               },
               "4_b":{
                  "x":-139,
                  "y":-40,
                  "scale":1
               },
               "5_b":{
                  "x":-19,
                  "y":33,
                  "scale":0.35
               }
            },
            15:{
               "f":false,
               "b":true,
               "w_b":640,
               "h_b":1072,
               "1_b":{
                  "x":-46,
                  "y":71,
                  "scale":0.6
               },
               "2_b":{
                  "x":-75,
                  "y":11,
                  "scale":1
               },
               "3_b":{
                  "x":-1,
                  "y":75,
                  "scale":0.46
               },
               "4_b":{
                  "x":-212,
                  "y":-26,
                  "scale":1
               },
               "5_b":{
                  "x":-25,
                  "y":2,
                  "scale":0.4
               }
            },
            16:{
               "f":false,
               "b":true,
               "w_b":598,
               "h_b":942,
               "1_b":{
                  "x":-12,
                  "y":84,
                  "scale":0.6
               },
               "2_b":{
                  "x":-102,
                  "y":10,
                  "scale":1
               },
               "3_b":{
                  "x":-12,
                  "y":74,
                  "scale":0.46
               },
               "4_b":{
                  "x":59,
                  "y":-4,
                  "scale":1
               },
               "5_b":{
                  "x":-134,
                  "y":-14,
                  "scale":1
               }
            },
            17:{
               "f":false,
               "b":true,
               "w_b":379,
               "h_b":1132,
               "1_b":{
                  "x":-12,
                  "y":87,
                  "scale":0.6
               },
               "2_b":{
                  "x":-105,
                  "y":-1,
                  "scale":1
               },
               "3_b":{
                  "x":-8,
                  "y":76,
                  "scale":0.46
               },
               "4_b":{
                  "x":-118,
                  "y":1,
                  "scale":1
               },
               "5_b":{
                  "x":-9,
                  "y":35,
                  "scale":0.38
               }
            },
            18:{
               "f":false,
               "b":true,
               "w_b":417,
               "h_b":1069,
               "1_b":{
                  "x":6,
                  "y":67,
                  "scale":0.6
               },
               "2_b":{
                  "x":-104,
                  "y":-33,
                  "scale":1
               },
               "3_b":{
                  "x":-14,
                  "y":60,
                  "scale":0.46
               },
               "4_b":{
                  "x":-103,
                  "y":-33,
                  "scale":1
               },
               "5_b":{
                  "x":0,
                  "y":4,
                  "scale":0.38
               }
            },
            19:{
               "f":false,
               "b":true,
               "w_b":353,
               "h_b":1049,
               "1_b":{
                  "x":-4,
                  "y":97,
                  "scale":0.6
               },
               "2_b":{
                  "x":-65,
                  "y":24,
                  "scale":1
               },
               "3_b":{
                  "x":-3,
                  "y":83,
                  "scale":0.46
               },
               "4_b":{
                  "x":-80,
                  "y":17,
                  "scale":1
               },
               "5_b":{
                  "x":-12,
                  "y":24,
                  "scale":0.39
               }
            },
            20:{
               "f":false,
               "b":true,
               "w_b":666,
               "h_b":984,
               "1_b":{
                  "x":9,
                  "y":68,
                  "scale":0.5
               },
               "2_b":{
                  "x":-131,
                  "y":37,
                  "scale":1
               },
               "3_b":{
                  "x":140,
                  "y":71,
                  "scale":0.46
               },
               "4_b":{
                  "x":26,
                  "y":-9,
                  "scale":1
               },
               "5_b":{
                  "x":-38,
                  "y":29,
                  "scale":0.44
               }
            },
            21:{
               "f":false,
               "b":true,
               "w_b":854,
               "h_b":984,
               "1_b":{
                  "x":-41,
                  "y":86,
                  "scale":0.6
               },
               "2_b":{
                  "x":-187,
                  "y":34,
                  "scale":1
               },
               "3_b":{
                  "x":-23,
                  "y":75,
                  "scale":0.46
               },
               "4_b":{
                  "x":-162,
                  "y":-2,
                  "scale":1
               },
               "5_b":{
                  "x":-201,
                  "y":-212,
                  "scale":1
               }
            },
            22:{
               "f":false,
               "b":true,
               "w_b":854,
               "h_b":984,
               "1_b":{
                  "x":-41,
                  "y":86,
                  "scale":0.6
               },
               "2_b":{
                  "x":-187,
                  "y":34,
                  "scale":1
               },
               "3_b":{
                  "x":-23,
                  "y":75,
                  "scale":0.46
               },
               "4_b":{
                  "x":-162,
                  "y":-2,
                  "scale":1
               },
               "5_b":{
                  "x":-201,
                  "y":-212,
                  "scale":1
               }
            },
            23:{
               "f":true,
               "w":218,
               "h":838,
               "b":false,
               "1":{
                  "x":74,
                  "y":90,
                  "scale":0.6
               },
               "2":{
                  "x":14,
                  "y":-79,
                  "scale":1
               },
               "3":{
                  "x":53,
                  "y":74,
                  "scale":0.47
               },
               "4":{
                  "x":-66,
                  "y":-10,
                  "scale":1
               },
               "5":{
                  "x":-66,
                  "y":-10,
                  "scale":1
               }
            },
            24:{
               "f":true,
               "w":281,
               "h":909,
               "b":false,
               "1":{
                  "x":22,
                  "y":13,
                  "scale":0.65
               },
               "2":{
                  "x":-72,
                  "y":-150,
                  "scale":1
               },
               "3":{
                  "x":20,
                  "y":34,
                  "scale":0.47
               },
               "4":{
                  "x":57,
                  "y":-101,
                  "scale":1
               },
               "5":{
                  "x":-44,
                  "y":-85,
                  "scale":1
               }
            },
            25:{
               "f":false,
               "b":true,
               "w_b":316,
               "h_b":804,
               "1_b":{
                  "x":9,
                  "y":70,
                  "scale":0.55
               },
               "2_b":{
                  "x":-79,
                  "y":-174,
                  "scale":0.92
               },
               "3_b":{
                  "x":137,
                  "y":62,
                  "scale":0.51
               },
               "4_b":{
                  "x":-106,
                  "y":0,
                  "scale":1
               },
               "5_b":{
                  "x":-114,
                  "y":-206,
                  "scale":0.88
               }
            },
            26:{
               "f":false,
               "b":true,
               "w_b":303,
               "h_b":843,
               "1_b":{
                  "x":0,
                  "y":62,
                  "scale":0.6
               },
               "2_b":{
                  "x":-72,
                  "y":-145,
                  "scale":1
               },
               "3_b":{
                  "x":10,
                  "y":59,
                  "scale":0.49
               },
               "4_b":{
                  "x":-111,
                  "y":-34,
                  "scale":1
               },
               "5_b":{
                  "x":-142,
                  "y":-275,
                  "scale":1
               }
            },
            27:{
               "f":false,
               "b":true,
               "w_b":240,
               "h_b":790,
               "1_b":{
                  "x":18,
                  "y":64,
                  "scale":0.59
               },
               "2_b":{
                  "x":-41,
                  "y":-117,
                  "scale":1
               },
               "3_b":{
                  "x":15,
                  "y":57,
                  "scale":0.48
               },
               "4_b":{
                  "x":-108,
                  "y":-23,
                  "scale":1
               },
               "5_b":{
                  "x":-108,
                  "y":-242,
                  "scale":1
               }
            },
            28:{
               "f":false,
               "b":true,
               "w_b":265,
               "h_b":770,
               "1_b":{
                  "x":36,
                  "y":75,
                  "scale":0.51
               },
               "2_b":{
                  "x":-60,
                  "y":-107,
                  "scale":1
               },
               "3_b":{
                  "x":14,
                  "y":65,
                  "scale":0.49
               },
               "4_b":{
                  "x":-62,
                  "y":-5,
                  "scale":0.86
               },
               "5_b":{
                  "x":-128,
                  "y":-194,
                  "scale":1
               }
            },
            29:{
               "f":true,
               "w":324,
               "h":793,
               "b":false,
               "1":{
                  "x":45,
                  "y":64,
                  "scale":0.54
               },
               "2":{
                  "x":-57,
                  "y":-230,
                  "scale":0.98
               },
               "3":{
                  "x":31,
                  "y":48,
                  "scale":0.43
               },
               "4":{
                  "x":-153,
                  "y":-368,
                  "scale":1
               },
               "5":{
                  "x":-148,
                  "y":-251,
                  "scale":1
               }
            },
            30:{
               "f":true,
               "w":313,
               "h":778,
               "b":false,
               "1":{
                  "x":-30,
                  "y":73,
                  "scale":0.61
               },
               "2":{
                  "x":-70,
                  "y":-66,
                  "scale":0.94
               },
               "3":{
                  "x":-35,
                  "y":55,
                  "scale":0.49
               },
               "4":{
                  "x":-179,
                  "y":-209,
                  "scale":1
               },
               "5":{
                  "x":-206,
                  "y":-192,
                  "scale":1
               }
            },
            31:{
               "f":true,
               "w":296,
               "h":812,
               "b":false,
               "1":{
                  "x":19,
                  "y":68,
                  "scale":0.58
               },
               "2":{
                  "x":-69,
                  "y":-78,
                  "scale":0.96
               },
               "3":{
                  "x":14,
                  "y":60,
                  "scale":0.47
               },
               "4":{
                  "x":-164,
                  "y":-232,
                  "scale":1
               },
               "5":{
                  "x":-117,
                  "y":-156,
                  "scale":1
               }
            },
            32:{
               "f":true,
               "w":220,
               "h":684,
               "b":false,
               "1":{
                  "x":40,
                  "y":105,
                  "scale":0.67
               },
               "2":{
                  "x":5,
                  "y":-21,
                  "scale":0.9
               },
               "3":{
                  "x":17,
                  "y":68,
                  "scale":0.61
               },
               "4":{
                  "x":-43,
                  "y":-10,
                  "scale":1
               },
               "5":{
                  "x":-45,
                  "y":-69,
                  "scale":1
               }
            },
            33:{
               "f":false,
               "b":true,
               "w_b":280,
               "h_b":787,
               "1_b":{
                  "x":-21,
                  "y":81,
                  "scale":0.58
               },
               "2_b":{
                  "x":-44,
                  "y":-43,
                  "scale":0.77
               },
               "3_b":{
                  "x":-30,
                  "y":43,
                  "scale":0.53
               },
               "4_b":{
                  "x":-128,
                  "y":-41,
                  "scale":0.84
               },
               "5_b":{
                  "x":-123,
                  "y":-142,
                  "scale":0.84
               }
            },
            34:{
               "f":false,
               "b":true,
               "w_b":335,
               "h_b":770,
               "1_b":{
                  "x":-21,
                  "y":99,
                  "scale":0.61
               },
               "2_b":{
                  "x":-71,
                  "y":-103,
                  "scale":0.96
               },
               "3_b":{
                  "x":-19,
                  "y":64,
                  "scale":0.52
               },
               "4_b":{
                  "x":-115,
                  "y":-21,
                  "scale":0.81
               },
               "5_b":{
                  "x":-101,
                  "y":-136,
                  "scale":0.81
               }
            },
            35:{
               "f":true,
               "w":296,
               "h":842,
               "b":true,
               "w_b":296,
               "h_b":842,
               1:{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "1_b":{
                  "x":-7,
                  "y":70,
                  "scale":0.58
               },
               2:{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "2_b":{
                  "x":-70,
                  "y":105,
                  "scale":0.93
               },
               3:{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "3_b":{
                  "x":167,
                  "y":62,
                  "scale":0.45,
                  "mirror_x":true
               },
               "4":{
                  "x":-103,
                  "y":-6,
                  "scale":0.98,
                  "mirror_x":true
               },
               "4_b":{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "5":{
                  "x":-60,
                  "y":-189,
                  "scale":0.96
               },
               "5_b":{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               }
            },
            36:{
               "f":true,
               "w":492,
               "h":867,
               "b":false,
               1:{
                  "x":-57,
                  "y":-414,
                  "scale":1,
                  "mirror_x":true
               },
               2:{
                  "x":-139,
                  "y":87,
                  "scale":0.88,
                  "mirror_x":true
               },
               3:{
                  "x":-36,
                  "y":62,
                  "scale":0.48
               },
               4:{
                  "x":-214,
                  "y":-77,
                  "scale":0.98,
                  "mirror_x":true
               },
               5:{
                  "x":-195,
                  "y":64,
                  "scale":1,
                  "mirror_x":true
               }
            }
         },
         "f":{
            2:{
               "f":true,
               "w":333,
               "h":777,
               "b":false,
               1:{
                  "x":13,
                  "y":108,
                  "scale":0.6
               },
               2:{
                  "x":-85,
                  "y":138,
                  "scale":1
               },
               3:{
                  "x":6,
                  "y":92,
                  "scale":0.46
               },
               4:{
                  "x":-140,
                  "y":36,
                  "scale":1
               },
               5:{
                  "x":-132,
                  "y":94,
                  "scale":1
               }
            },
            3:{
               "f":true,
               "w":337,
               "h":783,
               "b":false,
               1:{
                  "x":12,
                  "y":104,
                  "scale":0.6
               },
               2:{
                  "x":-87,
                  "y":130,
                  "scale":1
               },
               3:{
                  "x":5,
                  "y":88,
                  "scale":0.46
               },
               4:{
                  "x":-142,
                  "y":28,
                  "scale":1
               },
               5:{
                  "x":-134,
                  "y":86,
                  "scale":1
               }
            },
            4:{
               "f":true,
               "w":381,
               "h":809,
               "b":false,
               1:{
                  "x":-33,
                  "y":96,
                  "scale":0.6
               },
               2:{
                  "x":-141,
                  "y":117,
                  "scale":1
               },
               3:{
                  "x":-17,
                  "y":83,
                  "scale":0.46
               },
               4:{
                  "x":-200,
                  "y":16,
                  "scale":1
               },
               5:{
                  "x":-192,
                  "y":68,
                  "scale":1
               }
            },
            5:{
               "f":true,
               "w":381,
               "h":809,
               "b":false,
               1:{
                  "x":-33,
                  "y":96,
                  "scale":0.6
               },
               2:{
                  "x":-141,
                  "y":117,
                  "scale":1
               },
               3:{
                  "x":-17,
                  "y":83,
                  "scale":0.46
               },
               4:{
                  "x":-200,
                  "y":16,
                  "scale":1
               },
               5:{
                  "x":-192,
                  "y":68,
                  "scale":1
               }
            },
            6:{
               "f":true,
               "w":288,
               "h":787,
               "b":false,
               1:{
                  "x":179,
                  "y":93,
                  "scale":0.6
               },
               2:{
                  "x":-20,
                  "y":103,
                  "scale":1
               },
               3:{
                  "x":139,
                  "y":81,
                  "scale":0.46
               },
               4:{
                  "x":117,
                  "y":11,
                  "scale":1
               },
               5:{
                  "x":113,
                  "y":-199,
                  "scale":1
               }
            },
            7:{
               "f":true,
               "w":244,
               "h":805,
               "b":false,
               1:{
                  "x":65,
                  "y":83,
                  "scale":0.6
               },
               2:{
                  "x":-10,
                  "y":-87,
                  "scale":1
               },
               3:{
                  "x":51,
                  "y":73,
                  "scale":0.46
               },
               4:{
                  "x":-73,
                  "y":-6,
                  "scale":1
               },
               5:{
                  "x":0,
                  "y":102,
                  "scale":1
               }
            },
            8:{
               "f":true,
               "w":237,
               "h":801,
               "b":false,
               1:{
                  "x":70,
                  "y":83,
                  "scale":0.6
               },
               2:{
                  "x":-5,
                  "y":-143,
                  "scale":1
               },
               3:{
                  "x":55,
                  "y":73,
                  "scale":0.46
               },
               4:{
                  "x":-64,
                  "y":-6,
                  "scale":1
               },
               5:{
                  "x":-13,
                  "y":-192,
                  "scale":1
               }
            },
            9:{
               "f":true,
               "w":51,
               "h":35,
               "b":true,
               "w_b":352,
               "h_b":781,
               1:{
                  "x":223,
                  "y":158,
                  "scale":0.6
               },
               "1_b":{
                  "x":18,
                  "y":78,
                  "scale":0.6
               },
               2:{
                  "x":275,
                  "y":252,
                  "scale":1
               },
               "2_b":{
                  "x":-105,
                  "y":-145,
                  "scale":1
               },
               3:{
                  "x":172,
                  "y":130,
                  "scale":0.46
               },
               "3_b":{
                  "x":-4,
                  "y":69,
                  "scale":0.46
               },
               4:{
                  "x":190,
                  "y":118,
                  "scale":1
               },
               "4_b":{
                  "x":-151,
                  "y":-14,
                  "scale":1
               },
               5:{
                  "x":241,
                  "y":-92,
                  "scale":1
               },
               "5_b":{
                  "x":-138,
                  "y":-224,
                  "scale":1
               }
            },
            10:{
               "f":true,
               "w":52,
               "h":35,
               "b":true,
               "w_b":352,
               "h_b":781,
               1:{
                  "x":224,
                  "y":158,
                  "scale":0.6
               },
               "1_b":{
                  "x":18,
                  "y":78,
                  "scale":0.6
               },
               2:{
                  "x":276,
                  "y":252,
                  "scale":1
               },
               "2_b":{
                  "x":-105,
                  "y":-145,
                  "scale":1
               },
               3:{
                  "x":173,
                  "y":130,
                  "scale":0.46
               },
               "3_b":{
                  "x":-4,
                  "y":69,
                  "scale":0.46
               },
               4:{
                  "x":191,
                  "y":118,
                  "scale":1
               },
               "4_b":{
                  "x":-151,
                  "y":-14,
                  "scale":1
               },
               5:{
                  "x":242,
                  "y":-92,
                  "scale":1
               },
               "5_b":{
                  "x":-138,
                  "y":-224,
                  "scale":1
               }
            },
            11:{
               "f":true,
               "w":404,
               "h":816,
               "b":false,
               1:{
                  "x":5,
                  "y":82,
                  "scale":0.6
               },
               2:{
                  "x":-121,
                  "y":-213,
                  "scale":1
               },
               3:{
                  "x":5,
                  "y":72,
                  "scale":0.46
               },
               4:{
                  "x":-172,
                  "y":-7,
                  "scale":1
               },
               5:{
                  "x":-117,
                  "y":42,
                  "scale":1
               }
            },
            12:{
               "f":false,
               "b":true,
               "w_b":747,
               "h_b":972,
               "1_b":{
                  "x":-47,
                  "y":45,
                  "scale":0.6
               },
               "2_b":{
                  "x":-104,
                  "y":-20,
                  "scale":1
               },
               "3_b":{
                  "x":-55,
                  "y":52,
                  "scale":0.46
               },
               "4_b":{
                  "x":-183,
                  "y":-51,
                  "scale":1
               },
               "5_b":{
                  "x":-12,
                  "y":-13,
                  "scale":0.43
               }
            },
            13:{
               "f":false,
               "b":true,
               "w_b":341,
               "h_b":1054,
               "1_b":{
                  "x":-4,
                  "y":76,
                  "scale":0.6
               },
               "2_b":{
                  "x":-91,
                  "y":-17,
                  "scale":1
               },
               "3_b":{
                  "x":-23,
                  "y":74,
                  "scale":0.46
               },
               "4_b":{
                  "x":-115,
                  "y":-4,
                  "scale":1
               },
               "5_b":{
                  "x":-4,
                  "y":46,
                  "scale":0.35
               }
            },
            14:{
               "f":false,
               "b":true,
               "w_b":399,
               "h_b":1072,
               "1_b":{
                  "x":-26,
                  "y":63,
                  "scale":0.6
               },
               "2_b":{
                  "x":-131,
                  "y":-11,
                  "scale":1
               },
               "3_b":{
                  "x":-34,
                  "y":57,
                  "scale":0.46
               },
               "4_b":{
                  "x":-139,
                  "y":-40,
                  "scale":1
               },
               "5_b":{
                  "x":-19,
                  "y":33,
                  "scale":0.35
               }
            },
            15:{
               "f":false,
               "b":true,
               "w_b":640,
               "h_b":1072,
               "1_b":{
                  "x":-46,
                  "y":71,
                  "scale":0.6
               },
               "2_b":{
                  "x":-75,
                  "y":11,
                  "scale":1
               },
               "3_b":{
                  "x":-1,
                  "y":75,
                  "scale":0.46
               },
               "4_b":{
                  "x":-212,
                  "y":-26,
                  "scale":1
               },
               "5_b":{
                  "x":-25,
                  "y":2,
                  "scale":0.4
               }
            },
            16:{
               "f":false,
               "b":true,
               "w_b":598,
               "h_b":942,
               "1_b":{
                  "x":-12,
                  "y":84,
                  "scale":0.6
               },
               "2_b":{
                  "x":-102,
                  "y":10,
                  "scale":1
               },
               "3_b":{
                  "x":-12,
                  "y":74,
                  "scale":0.46
               },
               "4_b":{
                  "x":59,
                  "y":-4,
                  "scale":1
               },
               "5_b":{
                  "x":-134,
                  "y":-14,
                  "scale":1
               }
            },
            17:{
               "f":false,
               "b":true,
               "w_b":379,
               "h_b":1132,
               "1_b":{
                  "x":-12,
                  "y":87,
                  "scale":0.6
               },
               "2_b":{
                  "x":-105,
                  "y":-1,
                  "scale":1
               },
               "3_b":{
                  "x":-8,
                  "y":76,
                  "scale":0.46
               },
               "4_b":{
                  "x":-118,
                  "y":1,
                  "scale":1
               },
               "5_b":{
                  "x":-9,
                  "y":35,
                  "scale":0.38
               }
            },
            18:{
               "f":false,
               "b":true,
               "w_b":417,
               "h_b":1069,
               "1_b":{
                  "x":6,
                  "y":67,
                  "scale":0.6
               },
               "2_b":{
                  "x":-104,
                  "y":-33,
                  "scale":1
               },
               "3_b":{
                  "x":-14,
                  "y":60,
                  "scale":0.46
               },
               "4_b":{
                  "x":-103,
                  "y":-33,
                  "scale":1
               },
               "5_b":{
                  "x":0,
                  "y":4,
                  "scale":0.38
               }
            },
            19:{
               "f":false,
               "b":true,
               "w_b":353,
               "h_b":1049,
               "1_b":{
                  "x":-4,
                  "y":97,
                  "scale":0.6
               },
               "2_b":{
                  "x":-65,
                  "y":24,
                  "scale":1
               },
               "3_b":{
                  "x":-3,
                  "y":83,
                  "scale":0.46
               },
               "4_b":{
                  "x":-80,
                  "y":17,
                  "scale":1
               },
               "5_b":{
                  "x":-12,
                  "y":24,
                  "scale":0.39
               }
            },
            20:{
               "f":false,
               "b":true,
               "w_b":666,
               "h_b":984,
               "1_b":{
                  "x":9,
                  "y":68,
                  "scale":0.5
               },
               "2_b":{
                  "x":-131,
                  "y":37,
                  "scale":1
               },
               "3_b":{
                  "x":140,
                  "y":71,
                  "scale":0.46
               },
               "4_b":{
                  "x":26,
                  "y":-9,
                  "scale":1
               },
               "5_b":{
                  "x":-38,
                  "y":29,
                  "scale":0.44
               }
            },
            21:{
               "f":false,
               "b":true,
               "w_b":854,
               "h_b":984,
               "1_b":{
                  "x":-41,
                  "y":86,
                  "scale":0.6
               },
               "2_b":{
                  "x":-187,
                  "y":34,
                  "scale":1
               },
               "3_b":{
                  "x":-23,
                  "y":75,
                  "scale":0.46
               },
               "4_b":{
                  "x":-162,
                  "y":-2,
                  "scale":1
               },
               "5_b":{
                  "x":-201,
                  "y":-212,
                  "scale":1
               }
            },
            22:{
               "f":false,
               "b":true,
               "w_b":854,
               "h_b":984,
               "1_b":{
                  "x":-41,
                  "y":86,
                  "scale":0.6
               },
               "2_b":{
                  "x":-187,
                  "y":34,
                  "scale":1
               },
               "3_b":{
                  "x":-23,
                  "y":75,
                  "scale":0.46
               },
               "4_b":{
                  "x":-162,
                  "y":-2,
                  "scale":1
               },
               "5_b":{
                  "x":-201,
                  "y":-212,
                  "scale":1
               }
            },
            23:{
               "f":true,
               "w":218,
               "h":838,
               "b":false,
               "1":{
                  "x":74,
                  "y":90,
                  "scale":0.6
               },
               "2":{
                  "x":14,
                  "y":-79,
                  "scale":1
               },
               "3":{
                  "x":53,
                  "y":74,
                  "scale":0.47
               },
               "4":{
                  "x":-66,
                  "y":-10,
                  "scale":1
               },
               "5":{
                  "x":-66,
                  "y":-10,
                  "scale":1
               }
            },
            24:{
               "f":true,
               "w":281,
               "h":909,
               "b":false,
               "1":{
                  "x":22,
                  "y":13,
                  "scale":0.65
               },
               "2":{
                  "x":-72,
                  "y":-150,
                  "scale":1
               },
               "3":{
                  "x":20,
                  "y":34,
                  "scale":0.47
               },
               "4":{
                  "x":57,
                  "y":-101,
                  "scale":1
               },
               "5":{
                  "x":-44,
                  "y":-85,
                  "scale":1
               }
            },
            25:{
               "f":false,
               "b":true,
               "w_b":316,
               "h_b":804,
               "1_b":{
                  "x":9,
                  "y":70,
                  "scale":0.55
               },
               "2_b":{
                  "x":-79,
                  "y":-174,
                  "scale":0.92
               },
               "3_b":{
                  "x":137,
                  "y":62,
                  "scale":0.51
               },
               "4_b":{
                  "x":-106,
                  "y":0,
                  "scale":1
               },
               "5_b":{
                  "x":-114,
                  "y":-206,
                  "scale":0.88
               }
            },
            26:{
               "f":false,
               "b":true,
               "w_b":303,
               "h_b":843,
               "1_b":{
                  "x":0,
                  "y":62,
                  "scale":0.6
               },
               "2_b":{
                  "x":-72,
                  "y":-145,
                  "scale":1
               },
               "3_b":{
                  "x":10,
                  "y":59,
                  "scale":0.49
               },
               "4_b":{
                  "x":-111,
                  "y":-34,
                  "scale":1
               },
               "5_b":{
                  "x":-142,
                  "y":-275,
                  "scale":1
               }
            },
            27:{
               "f":false,
               "b":true,
               "w_b":240,
               "h_b":790,
               "1_b":{
                  "x":18,
                  "y":64,
                  "scale":0.59
               },
               "2_b":{
                  "x":-41,
                  "y":-117,
                  "scale":1
               },
               "3_b":{
                  "x":15,
                  "y":57,
                  "scale":0.48
               },
               "4_b":{
                  "x":-108,
                  "y":-23,
                  "scale":1
               },
               "5_b":{
                  "x":-108,
                  "y":-242,
                  "scale":1
               }
            },
            28:{
               "f":false,
               "b":true,
               "w_b":265,
               "h_b":770,
               "1_b":{
                  "x":36,
                  "y":75,
                  "scale":0.51
               },
               "2_b":{
                  "x":-60,
                  "y":-107,
                  "scale":1
               },
               "3_b":{
                  "x":14,
                  "y":65,
                  "scale":0.49
               },
               "4_b":{
                  "x":-62,
                  "y":-5,
                  "scale":0.86
               },
               "5_b":{
                  "x":-128,
                  "y":-194,
                  "scale":1
               }
            },
            29:{
               "f":true,
               "w":324,
               "h":793,
               "b":false,
               "1":{
                  "x":45,
                  "y":64,
                  "scale":0.54
               },
               "2":{
                  "x":-57,
                  "y":-230,
                  "scale":0.98
               },
               "3":{
                  "x":31,
                  "y":48,
                  "scale":0.43
               },
               "4":{
                  "x":-153,
                  "y":-368,
                  "scale":1
               },
               "5":{
                  "x":-148,
                  "y":-251,
                  "scale":1
               }
            },
            30:{
               "f":true,
               "w":313,
               "h":778,
               "b":false,
               "1":{
                  "x":-30,
                  "y":73,
                  "scale":0.61
               },
               "2":{
                  "x":-70,
                  "y":-66,
                  "scale":0.94
               },
               "3":{
                  "x":-35,
                  "y":55,
                  "scale":0.49
               },
               "4":{
                  "x":-179,
                  "y":-209,
                  "scale":1
               },
               "5":{
                  "x":-206,
                  "y":-192,
                  "scale":1
               }
            },
            31:{
               "f":true,
               "w":296,
               "h":812,
               "b":false,
               "1":{
                  "x":19,
                  "y":68,
                  "scale":0.58
               },
               "2":{
                  "x":-69,
                  "y":-78,
                  "scale":0.96
               },
               "3":{
                  "x":14,
                  "y":60,
                  "scale":0.47
               },
               "4":{
                  "x":-164,
                  "y":-232,
                  "scale":1
               },
               "5":{
                  "x":-117,
                  "y":-156,
                  "scale":1
               }
            },
            32:{
               "f":true,
               "w":220,
               "h":684,
               "b":false,
               "1":{
                  "x":40,
                  "y":105,
                  "scale":0.67
               },
               "2":{
                  "x":5,
                  "y":-21,
                  "scale":0.9
               },
               "3":{
                  "x":17,
                  "y":68,
                  "scale":0.61
               },
               "4":{
                  "x":-43,
                  "y":-10,
                  "scale":1
               },
               "5":{
                  "x":-45,
                  "y":-69,
                  "scale":1
               }
            },
            33:{
               "f":false,
               "b":true,
               "w_b":280,
               "h_b":787,
               "1_b":{
                  "x":-21,
                  "y":81,
                  "scale":0.58
               },
               "2_b":{
                  "x":-44,
                  "y":-43,
                  "scale":0.77
               },
               "3_b":{
                  "x":-30,
                  "y":43,
                  "scale":0.53
               },
               "4_b":{
                  "x":-128,
                  "y":-41,
                  "scale":0.84
               },
               "5_b":{
                  "x":-123,
                  "y":-142,
                  "scale":0.84
               }
            },
            34:{
               "f":false,
               "b":true,
               "w_b":335,
               "h_b":770,
               "1_b":{
                  "x":-21,
                  "y":99,
                  "scale":0.61
               },
               "2_b":{
                  "x":-71,
                  "y":-103,
                  "scale":0.96
               },
               "3_b":{
                  "x":-19,
                  "y":64,
                  "scale":0.52
               },
               "4_b":{
                  "x":-115,
                  "y":-21,
                  "scale":0.81
               },
               "5_b":{
                  "x":-101,
                  "y":-136,
                  "scale":0.81
               }
            },
            35:{
               "f":true,
               "w":296,
               "h":842,
               "b":true,
               "w_b":296,
               "h_b":842,
               1:{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "1_b":{
                  "x":-7,
                  "y":70,
                  "scale":0.58
               },
               2:{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "2_b":{
                  "x":-70,
                  "y":105,
                  "scale":0.93
               },
               3:{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "3_b":{
                  "x":167,
                  "y":62,
                  "scale":0.45,
                  "mirror_x":true
               },
               "4":{
                  "x":-103,
                  "y":-6,
                  "scale":0.98,
                  "mirror_x":true
               },
               "4_b":{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               },
               "5":{
                  "x":-60,
                  "y":-189,
                  "scale":0.96
               },
               "5_b":{
                  "x":-100,
                  "y":-100,
                  "scale":0.01
               }
            },
            36:{
               "f":true,
               "w":492,
               "h":867,
               "b":false,
               1:{
                  "x":-57,
                  "y":-414,
                  "scale":1,
                  "mirror_x":true
               },
               2:{
                  "x":-139,
                  "y":87,
                  "scale":0.88,
                  "mirror_x":true
               },
               3:{
                  "x":-36,
                  "y":62,
                  "scale":0.48
               },
               4:{
                  "x":-214,
                  "y":-77,
                  "scale":0.98,
                  "mirror_x":true
               },
               5:{
                  "x":-195,
                  "y":64,
                  "scale":1,
                  "mirror_x":true
               }
            }
         }
      });
      
      public static var COVER_LAYOUT:TypedObject = new TypedObject({
         1:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         2:{
            "x":10,
            "y":340,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"bottom"
         },
         3:{
            "x":30,
            "y":330,
            "w":300,
            "r":-90,
            "font_size":17,
            "text_align":"left",
            "anchor":"top"
         },
         4:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         5:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         6:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         7:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         8:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         9:{
            "x":30,
            "y":330,
            "w":300,
            "r":-90,
            "font_size":17,
            "text_align":"left",
            "anchor":"top"
         },
         10:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         11:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         12:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         13:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         14:{
            "x":10,
            "y":340,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"bottom"
         },
         15:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         },
         16:{
            "x":10,
            "y":26,
            "w":260,
            "r":0,
            "font_size":22,
            "text_align":"center",
            "anchor":"top"
         }
      });
      
      public static var COVER_FONT:TypedObject = new TypedObject({
         1:{
            "color":16711920,
            "shadow":true,
            "shadow_color":"black",
            "shadow_alpha":0.75,
            "outline":true,
            "outline_color":"white",
            "font":"title_jacks_candlestick"
         },
         2:{
            "color":16711920,
            "shadow":true,
            "shadow_color":"black",
            "outline":false,
            "font":"title_jacks_candlestick"
         },
         3:{
            "color":16777215,
            "shadow":true,
            "shadow_color":"black",
            "shadow_alpha":0.6,
            "outline":true,
            "outline_color":15401142,
            "outline_alpha":0.3,
            "font":"title_jacks_candlestick"
         },
         4:{
            "color":0,
            "shadow":true,
            "shadow_color":"white",
            "shadow_alpha":0.6,
            "outline":false,
            "font":"title_jacks_candlestick"
         },
         10:{
            "color":16711920,
            "shadow":true,
            "shadow_color":"black",
            "shadow_alpha":0.75,
            "outline":true,
            "outline_color":"white",
            "font":"title_trebuchet"
         },
         11:{
            "color":16711920,
            "shadow":true,
            "shadow_color":"black",
            "outline":false,
            "font":"title_trebuchet"
         },
         12:{
            "color":16777215,
            "shadow":true,
            "shadow_color":"black",
            "shadow_alpha":0.6,
            "outline":true,
            "outline_color":15401142,
            "outline_alpha":0.3,
            "font":"title_trebuchet"
         },
         13:{
            "color":0,
            "shadow":true,
            "shadow_color":"white",
            "shadow_alpha":0.6,
            "outline":false,
            "font":"title_trebuchet"
         },
         20:{
            "color":16711920,
            "shadow":true,
            "shadow_color":"black",
            "shadow_alpha":0.75,
            "outline":true,
            "outline_color":"white",
            "font":"title_belwe"
         },
         21:{
            "color":16711920,
            "shadow":true,
            "shadow_color":"black",
            "outline":false,
            "font":"title_belwe"
         },
         22:{
            "color":16777215,
            "shadow":true,
            "shadow_color":"black",
            "shadow_alpha":0.6,
            "outline":true,
            "outline_color":15401142,
            "outline_alpha":0.3,
            "font":"title_belwe"
         },
         23:{
            "color":0,
            "shadow":true,
            "shadow_color":"white",
            "shadow_alpha":0.6,
            "outline":false,
            "font":"title_belwe"
         }
      });
      
      private static var Z:Point = new Point();
      
      private static var GREYSCALE:ColorMatrixFilter = new ColorMatrixFilter([0.3,0.59,0.11,0,0,0.3,0.59,0.11,0,0,0.3,0.59,0.11,0,0,0,0,0,1,0]);
      
      private static var HAMILTON_MASK1:BitmapData = new SymbolHamiltonBlurFilterMaskBig1();
      
      private static var HAMILTON_MASK2:BitmapData = new SymbolHamiltonBlurFilterMaskBig2();
      
      private static var HAMILTON_BLUR1:BlurFilter = new BlurFilter(4,4,3);
      
      private static var HAMILTON_BLUR2:BlurFilter = new BlurFilter(2,2,3);
      
      private static var HAMILTON_COLOR:ColorMatrixFilter = new ColorMatrixFilter([0.8401348,0.1937892,0.026076,0,12.09,0.0981348,0.9357892,0.026076,0,12.09,0.0981348,0.1937892,0.768076,0,12.09,0,0,0,1,0]);
      
      private static var LOMO_FILTER:ColorMatrixFilter = new ColorMatrixFilter([1.15,0,0,0,0,0,1.18,0,0,0,0,0,1.05,0,0,0,0,0,1,0]);
      
      private static var LOMO_VIGNETTE:BitmapData = new SymbolLomoVignetteBig();
      
      private static var ADEN_VIGNETTE:BitmapData = new SymbolAdenVignetteBig();
      
      private static var BROOKLYN_VIGNETTE:BitmapData = new SymbolBrooklynVignetteBig();
      
      private static var COLOR_MATRIX:ColorMatrix = new ColorMatrix();
      
      private static var GLOW_FILTER1:GlowFilter = new GlowFilter(16777215,1,10,10,10,1);
      
      private static var GLOW_FILTER2:GlowFilter = new GlowFilter(16777215,1,40,40,1,1);
       
      
      private var _width:int;
      
      private var _height:int;
      
      private var _settings:MovieCoverSettings = null;
      
      private var _onGenerated:Function = null;
      
      private var _preview:SymbolCoverPreview;
      
      private var _previewBitmapData:BitmapData;
      
      private var _previewBitmap:Bitmap;
      
      public function MovieCover()
      {
         super();
         _width = 280;
         _height = 360;
         try
         {
            _preview = new SymbolCoverPreview();
            _preview.layout.title_belwe.autoSize = "left";
            _preview.layout.title_jacks_candlestick.autoSize = "left";
            _preview.layout.title_trebuchet.autoSize = "left";
            _previewBitmapData = new BitmapData(_width,_height,true,0);
            _previewBitmap = new Bitmap(_previewBitmapData,"auto",true);
            _preview.filter.addChild(_previewBitmap);
            return;
         }
         catch(e:Error)
         {
            Logger.error("SymbolCoverPreview init error: " + e.message);
            return;
         }
      }
      
      private static function smoothMovieClip(param1:MovieClip) : void
      {
         var _loc3_:int = 0;
         var _loc2_:* = null;
         _loc3_ = 0;
         while(_loc3_ < param1.numChildren)
         {
            _loc2_ = param1.getChildAt(_loc3_);
            if(_loc2_ is MovieClip)
            {
               smoothMovieClip(_loc2_ as MovieClip);
            }
            else if(_loc2_ is Bitmap)
            {
               (_loc2_ as Bitmap).smoothing = true;
            }
            _loc3_++;
         }
      }
      
      private static function getMovieClipAsBitmap(param1:MovieClip, param2:Number = 1, param3:Rectangle = null, param4:Boolean = false) : Bitmap
      {
         if(param3 == null)
         {
            param3 = param1.getBounds(param1);
         }
         var _loc6_:Bitmap = new Bitmap(new BitmapData(param3.width * param2,param3.height * param2,true,0));
         var _loc5_:Matrix = new Matrix(1,0,0,1,-param3.x,-param3.y);
         if(param2 != 1)
         {
            _loc5_.scale(param2,param2);
         }
         _loc6_.bitmapData.draw(param1,_loc5_,null,null,null,param4);
         return _loc6_;
      }
      
      private static function removeAllChildren(param1:MovieClip) : void
      {
         var _loc4_:int = 0;
         var _loc3_:Vector.<DisplayObject> = new Vector.<DisplayObject>();
         _loc4_ = 0;
         while(_loc4_ < param1.numChildren)
         {
            _loc3_.push(param1.getChildAt(_loc4_));
            _loc4_++;
         }
         var _loc6_:int = 0;
         var _loc5_:* = _loc3_;
         for each(var _loc2_ in _loc3_)
         {
            param1.removeChild(_loc2_);
         }
      }
      
      public function get width() : int
      {
         return _width;
      }
      
      public function get height() : int
      {
         return _height;
      }
      
      public function get preview() : SymbolCoverPreview
      {
         return _preview;
      }
      
      public function generateFromCompressedSettings(param1:String, param2:Function) : void
      {
         if(param1 == null || param1 == "")
         {
            return;
         }
         generate(MovieCoverSettings.decodeMovieCoverImageSettings(param1),param2);
      }
      
      public function generate(param1:MovieCoverSettings, param2:Function) : void
      {
         if(!_preview)
         {
            return;
         }
         if(param1 == null)
         {
            return;
         }
         _settings = param1;
         _onGenerated = param2;
         startPreviewGeneration();
      }
      
      private function startPreviewGeneration() : void
      {
         if(!PreviewAvatar.lockPreviewAvatar(this))
         {
            Runtime.delayFunction(startPreviewGeneration,0.1);
            return;
         }
         removeAllChildren(_preview.avatarContainer);
         PreviewAvatar.updatePreviewAvatar(_settings,this);
         _preview.avatarContainer.addChild(PreviewAvatar.getPreviewAvatar(this));
         checkIfAvatarIsLoaded();
      }
      
      private function checkIfAvatarIsLoaded() : void
      {
         if(!PreviewAvatar.previewComplete(this))
         {
            Runtime.delayFunction(checkIfAvatarIsLoaded,0.1);
            return;
         }
         var _loc1_:Bitmap = getMovieClipAsBitmap(_preview.avatarContainer);
         removeAllChildren(_preview.avatarContainer);
         _preview.avatarContainer.addChild(_loc1_);
         smoothMovieClip(_preview.avatarContainer);
         finishPreviewGeneration();
      }
      
      private function finishPreviewGeneration() : void
      {
         var _loc5_:* = null;
         var _loc13_:* = null;
         var _loc9_:* = null;
         var _loc26_:int = 0;
         var _loc15_:Number = NaN;
         var _loc10_:int = 0;
         var _loc29_:Number = NaN;
         var _loc28_:* = null;
         var _loc7_:* = null;
         var _loc1_:int = 0;
         var _loc20_:* = 0;
         var _loc14_:* = 0;
         var _loc11_:* = 0;
         var _loc25_:int = 0;
         var _loc16_:int = 0;
         var _loc23_:* = 0;
         var _loc12_:* = 0;
         var _loc6_:* = 0;
         var _loc4_:* = 0;
         var _loc2_:* = 0;
         var _loc27_:* = 0;
         var _loc24_:* = 0;
         var _loc19_:* = 0;
         _preview.background.gotoAndStop(_settings.cover_background_type);
         _preview.border.gotoAndStop(_settings.cover_border_type);
         _preview.layout.gotoAndStop(_settings.cover_layout_new_type);
         var _loc18_:TypedObject = COVER_RECT.getTypedObject(_settings.gender).getTypedObject(_settings.cover_rect_type.toString());
         var _loc30_:* = _loc18_.getNumber("scale");
         _preview.avatarContainer.scaleY = _loc30_;
         _preview.avatarContainer.scaleX = _loc30_;
         _preview.avatarContainer.x = _loc18_.getNumber("x");
         _preview.avatarContainer.y = _loc18_.getNumber("y");
         if(!_settings.cover_actor_type || _settings.cover_actor_type == 1)
         {
            _preview.actorFront.visible = false;
            _preview.actorBackground.visible = false;
         }
         else
         {
            _loc5_ = ACTOR_RECT.getTypedObject(_settings.gender).getTypedObject(_settings.cover_actor_type.toString());
            _preview.actorFront.visible = _loc5_.getBoolean("f");
            if(_preview.actorFront.visible)
            {
               _loc13_ = _loc5_.getTypedObject(_settings.cover_rect_type.toString());
               _preview.actorFront.gotoAndStop(_settings.cover_actor_type);
               _loc30_ = _loc13_.getNumber("scale");
               _preview.actorFront.scaleY = _loc30_;
               _preview.actorFront.scaleX = _loc30_;
               _preview.actorFront.x = _loc13_.getNumber("x");
               _preview.actorFront.y = _loc13_.getNumber("y");
               if(_loc13_.getBoolean("mirror_x"))
               {
                  _preview.actorFront.scaleX = _preview.actorFront.scaleX * -1;
                  _preview.actorFront.x = _preview.actorFront.x + _preview.actorFront.width;
               }
            }
            _preview.actorBackground.visible = _loc5_.getBoolean("b");
            if(_preview.actorBackground.visible)
            {
               _loc9_ = _loc5_.getTypedObject(_settings.cover_rect_type + "_b");
               _preview.actorBackground.gotoAndStop(_settings.cover_actor_type);
               _loc30_ = _loc9_.getNumber("scale");
               _preview.actorBackground.scaleY = _loc30_;
               _preview.actorBackground.scaleX = _loc30_;
               _preview.actorBackground.x = _loc9_.getNumber("x");
               _preview.actorBackground.y = _loc9_.getNumber("y");
               if(_loc9_.getBoolean("mirror_x"))
               {
                  _preview.actorBackground.scaleX = _preview.actorBackground.scaleX * -1;
                  _preview.actorBackground.x = _preview.actorBackground.x + _preview.actorBackground.width;
               }
            }
         }
         var _loc3_:TypedObject = COVER_LAYOUT.getTypedObject(_settings.cover_layout_new_type.toString());
         var _loc8_:TypedObject = COVER_FONT.getTypedObject(_settings.cover_font_type.toString());
         _preview.layout.title_belwe.visible = false;
         _preview.layout.title_trebuchet.visible = false;
         _preview.layout.title_jacks_candlestick.visible = false;
         var _loc21_:TextField = _preview.layout[_loc8_.getString("font")];
         _loc21_.visible = true;
         _loc21_.text = "";
         var _loc22_:TextFormat = _loc21_.defaultTextFormat;
         _loc22_.size = _loc3_.getNumber("font_size");
         _loc22_.color = _loc8_.getData("color");
         _loc22_.align = _loc3_.getString("text_align");
         _loc21_.defaultTextFormat = _loc22_;
         _loc21_.text = _settings.title;
         _loc21_.width = _loc3_.getNumber("w") + 2;
         _loc21_.rotation = _loc3_.getNumber("r");
         _loc21_.x = _loc3_.getNumber("x") - 1;
         _loc21_.y = _loc3_.getNumber("y") - 2;
         if(_loc3_.getString("anchor") == "bottom")
         {
            _loc21_.y = _loc21_.y - _loc21_.textHeight;
         }
         var _loc17_:Array = [];
         if(_loc8_.getBoolean("outline"))
         {
            _loc26_ = _loc8_.getString("outline_color") == "white"?16777215:_loc8_.getString("outline_color") == "black"?0:_loc8_.getInt("outline_color");
            _loc15_ = !!_loc8_.hasData("outline_alpha")?_loc8_.getNumber("outline_alpha"):1;
            _loc17_.push(new GlowFilter(_loc26_,_loc15_,2,2,10,2));
         }
         if(_loc8_.getBoolean("shadow"))
         {
            _loc10_ = _loc8_.getString("shadow_color") == "white"?16777215:_loc8_.getString("shadow_color") == "black"?0:_loc8_.getInt("shadow_color");
            _loc29_ = !!_loc8_.hasData("shadow_alpha")?_loc8_.getNumber("shadow_alpha"):1;
            _loc17_.push(new DropShadowFilter(2,45,_loc10_,_loc29_));
         }
         _loc21_.filters = _loc17_;
         _preview.filter.visible = false;
         if(_settings.cover_filter_type && _settings.cover_filter_type != 1)
         {
            _previewBitmapData.lock();
            _previewBitmapData.fillRect(_previewBitmapData.rect,0);
            switch(int(_settings.cover_filter_type) - 2)
            {
               case 0:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,GREYSCALE);
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 1:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  _loc28_ = _previewBitmapData.clone();
                  _loc7_ = _loc28_.clone();
                  _loc7_.applyFilter(_loc7_,_loc7_.rect,Z,HAMILTON_BLUR1);
                  _previewBitmapData.copyPixels(_loc7_,_loc7_.rect,Z,HAMILTON_MASK1,null,true);
                  _previewBitmapData.copyPixels(_loc7_,_loc7_.rect,Z,HAMILTON_MASK1,null,true);
                  _previewBitmapData.copyPixels(_loc7_,_loc7_.rect,Z,HAMILTON_MASK1,null,true);
                  _loc7_.copyPixels(_loc28_,_loc28_.rect,Z);
                  _loc7_.applyFilter(_loc7_,_loc7_.rect,Z,HAMILTON_BLUR2);
                  _previewBitmapData.copyPixels(_loc7_,_loc7_.rect,Z,HAMILTON_MASK2,null,true);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,HAMILTON_COLOR);
                  _loc7_.dispose();
                  _loc28_.dispose();
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 2:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,LOMO_FILTER);
                  _previewBitmapData.copyPixels(LOMO_VIGNETTE,LOMO_VIGNETTE.rect,Z,null,null,true);
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 3:
                  applyFilterOnCharacter(GLOW_FILTER1);
                  break;
               case 4:
                  applyFilterOnCharacter(GLOW_FILTER2);
                  break;
               case 5:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  COLOR_MATRIX.reset();
                  COLOR_MATRIX.adjustContrast(0.1);
                  COLOR_MATRIX.adjustBrightness(20);
                  COLOR_MATRIX.adjustSaturation(1.3);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,new ColorMatrixFilter(COLOR_MATRIX.matrix));
                  _loc7_ = new BitmapData(_width,_height,true,1291021055);
                  _previewBitmapData.draw(_loc7_,null,null,"screen");
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 6:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  COLOR_MATRIX.reset();
                  COLOR_MATRIX.adjustContrast(-0.1);
                  COLOR_MATRIX.adjustBrightness(10);
                  COLOR_MATRIX.adjustSaturation(0.85);
                  COLOR_MATRIX.adjustHue(-20);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,new ColorMatrixFilter(COLOR_MATRIX.matrix));
                  _previewBitmapData.draw(ADEN_VIGNETTE,null,null,"darken");
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 7:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  COLOR_MATRIX.reset();
                  COLOR_MATRIX.adjustContrast(-0.1);
                  COLOR_MATRIX.adjustBrightness(10);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,new ColorMatrixFilter(COLOR_MATRIX.matrix));
                  _previewBitmapData.draw(BROOKLYN_VIGNETTE,null,null,"overlay");
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 8:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  COLOR_MATRIX.reset();
                  COLOR_MATRIX.adjustBrightness(5);
                  COLOR_MATRIX.adjustHue(-10);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,new ColorMatrixFilter(COLOR_MATRIX.matrix));
                  _loc7_ = new BitmapData(_width,_height,true,1072097018);
                  _previewBitmapData.draw(_loc7_,null,null,"hardlight");
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 9:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  _loc1_ = 12898248;
                  _loc20_ = uint((_loc1_ & 16711680) >> 16);
                  _loc14_ = uint((_loc1_ & 65280) >> 8);
                  _loc11_ = uint(_loc1_ & 255);
                  _loc25_ = 0;
                  while(_loc25_ < _width)
                  {
                     _loc16_ = 0;
                     while(_loc16_ < _height)
                     {
                        _loc23_ = uint(_previewBitmapData.getPixel(_loc25_,_loc16_));
                        _loc12_ = uint((_loc23_ & 16711680) >> 16);
                        _loc6_ = uint((_loc23_ & 65280) >> 8);
                        _loc4_ = uint(_loc23_ & 255);
                        _loc2_ = uint(Math.min(_loc12_ / 255 / (_loc20_ / 255) * 255,255));
                        _loc27_ = uint(Math.min(_loc6_ / 255 / (_loc14_ / 255) * 255,255));
                        _loc24_ = uint(Math.min(_loc4_ / 255 / (_loc11_ / 255) * 255,255));
                        _loc19_ = uint((_loc2_ << 16) + (_loc27_ << 8) + _loc24_);
                        _previewBitmapData.setPixel(_loc25_,_loc16_,_loc19_);
                        _loc16_++;
                     }
                     _loc25_++;
                  }
                  _loc7_ = new BitmapData(_width,_height,false,11959334);
                  _previewBitmapData.draw(_loc7_,null,null,"overlay");
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
                  break;
               case 10:
                  drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground,_preview.avatarContainer,_preview.actorFront]);
                  COLOR_MATRIX.reset();
                  COLOR_MATRIX.adjustContrast(0.1);
                  COLOR_MATRIX.adjustBrightness(30);
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,new ColorMatrixFilter(COLOR_MATRIX.matrix));
                  _previewBitmapData.applyFilter(_previewBitmapData,_previewBitmapData.rect,Z,GREYSCALE);
                  _loc7_ = new BitmapData(_width,_height,false,3684408);
                  _previewBitmapData.draw(_loc7_,null,null,"lighten");
                  drawLayers(_previewBitmapData,[_preview.border,_preview.layout]);
            }
            _previewBitmapData.unlock();
            _preview.filter.visible = true;
            _preview.filter.smoothing = true;
         }
         PreviewAvatar.unlockPreviewAvatar(this);
         if(_onGenerated != null)
         {
            _onGenerated();
         }
      }
      
      private function drawLayers(param1:BitmapData, param2:Array) : void
      {
         var _loc5_:int = 0;
         var _loc4_:Boolean = _preview.actorBackground.visible;
         var _loc3_:Boolean = _preview.actorFront.visible;
         _loc5_ = 0;
         while(_loc5_ < _preview.numChildren)
         {
            if(param2.indexOf(_preview.getChildAt(_loc5_)) < 0)
            {
               _preview.getChildAt(_loc5_).visible = false;
            }
            _loc5_++;
         }
         param1.draw(_preview);
         _loc5_ = 0;
         while(_loc5_ < _preview.numChildren)
         {
            _preview.getChildAt(_loc5_).visible = true;
            _loc5_++;
         }
         _preview.actorFront.visible = _loc3_;
         _preview.actorBackground.visible = _loc4_;
      }
      
      private function applyFilterOnCharacter(param1:BitmapFilter) : void
      {
         var _loc2_:BitmapData = _previewBitmapData.clone();
         drawLayers(_previewBitmapData,[_preview.background,_preview.actorBackground]);
         drawLayers(_loc2_,[_preview.avatarContainer]);
         _loc2_.applyFilter(_loc2_,_loc2_.rect,Z,param1);
         _previewBitmapData.draw(_loc2_);
         drawLayers(_previewBitmapData,[_preview.actorFront,_preview.border,_preview.layout]);
         _loc2_.dispose();
      }
   }
}
